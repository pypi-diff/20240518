# Comparing `tmp/asktable-0.14.2-py3-none-any.whl.zip` & `tmp/asktable-0.14.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,36 +1,36 @@
-Zip file size: 32580 bytes, number of entries: 34
--rw-r--r--  2.0 unx       86 b- defN 24-Apr-02 15:29 asktable/__init__.py
--rw-r--r--  2.0 unx     2180 b- defN 24-Apr-01 06:16 asktable/api.py
--rw-r--r--  2.0 unx     2138 b- defN 24-Apr-18 01:39 asktable/cli.py
--rw-r--r--  2.0 unx     1022 b- defN 24-Apr-24 05:45 asktable/client.py
--rw-r--r--  2.0 unx       41 b- defN 24-Apr-01 06:16 asktable/exceptions.py
--rw-r--r--  2.0 unx      875 b- defN 24-Apr-01 06:44 asktable/log.py
--rw-r--r--  2.0 unx     1492 b- defN 24-Apr-01 06:16 asktable/upload.py
--rw-r--r--  2.0 unx      248 b- defN 24-Apr-24 05:45 asktable/models/__init__.py
--rw-r--r--  2.0 unx     2993 b- defN 24-Apr-24 05:45 asktable/models/client_base.py
--rw-r--r--  2.0 unx     2571 b- defN 24-Apr-24 05:45 asktable/models/client_chat.py
--rw-r--r--  2.0 unx    10712 b- defN 24-Apr-24 05:45 asktable/models/client_ds.py
--rw-r--r--  2.0 unx     1270 b- defN 24-Apr-15 15:33 asktable/models/client_msg.py
--rw-r--r--  2.0 unx      885 b- defN 24-Apr-06 09:09 asktable/models/client_run.py
--rw-r--r--  2.0 unx     1397 b- defN 24-Apr-24 13:23 asktable/models/client_securetunnel.py
--rw-r--r--  2.0 unx        0 b- defN 23-Dec-08 14:27 atcommon/__init__.py
--rw-r--r--  2.0 unx     3296 b- defN 24-Apr-04 03:57 atcommon/tools.py
--rw-r--r--  2.0 unx       16 b- defN 24-Apr-24 13:23 atcommon/version.py
--rw-r--r--  2.0 unx        0 b- defN 24-Jan-31 13:33 atcommon/exceptions/__init__.py
--rw-r--r--  2.0 unx     1402 b- defN 24-Apr-16 12:45 atcommon/exceptions/client.py
--rw-r--r--  2.0 unx       95 b- defN 24-Apr-01 06:16 atcommon/exceptions/server.py
--rw-r--r--  2.0 unx     2837 b- defN 24-Apr-24 05:45 atcommon/exceptions/server_base.py
--rw-r--r--  2.0 unx      764 b- defN 24-Apr-24 05:45 atcommon/exceptions/server_plugins.py
--rw-r--r--  2.0 unx      526 b- defN 24-Apr-10 08:59 atcommon/models/__init__.py
--rw-r--r--  2.0 unx      731 b- defN 24-Jan-20 03:26 atcommon/models/base.py
--rw-r--r--  2.0 unx     4918 b- defN 24-Apr-17 07:47 atcommon/models/bi.py
--rw-r--r--  2.0 unx     1069 b- defN 24-Apr-01 06:16 atcommon/models/chat.py
--rw-r--r--  2.0 unx     1424 b- defN 24-Apr-03 14:46 atcommon/models/datasource.py
--rw-r--r--  2.0 unx    27794 b- defN 24-Apr-06 01:31 atcommon/models/meta.py
--rw-r--r--  2.0 unx      819 b- defN 24-Apr-24 13:01 atcommon/models/securetunnel.py
--rw-r--r--  2.0 unx    11702 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/WHEEL
--rw-r--r--  2.0 unx       47 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       18 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2765 b- defN 24-Apr-24 13:47 asktable-0.14.2.dist-info/RECORD
-34 files, 88225 bytes uncompressed, 28164 bytes compressed:  68.1%
+Zip file size: 32856 bytes, number of entries: 34
+-rw-r--r--  2.0 unx       86 b- defN 24-May-01 14:48 asktable/__init__.py
+-rw-r--r--  2.0 unx     2180 b- defN 24-May-06 10:32 asktable/api.py
+-rw-r--r--  2.0 unx     2138 b- defN 24-May-18 07:11 asktable/cli.py
+-rw-r--r--  2.0 unx     1022 b- defN 24-May-18 07:11 asktable/client.py
+-rw-r--r--  2.0 unx       41 b- defN 24-May-01 14:48 asktable/exceptions.py
+-rw-r--r--  2.0 unx      875 b- defN 24-May-01 14:48 asktable/log.py
+-rw-r--r--  2.0 unx     1492 b- defN 24-May-01 14:48 asktable/upload.py
+-rw-r--r--  2.0 unx      248 b- defN 24-May-18 07:11 asktable/models/__init__.py
+-rw-r--r--  2.0 unx     2992 b- defN 24-May-18 07:22 asktable/models/client_base.py
+-rw-r--r--  2.0 unx     2571 b- defN 24-May-18 07:11 asktable/models/client_chat.py
+-rw-r--r--  2.0 unx    10755 b- defN 24-May-18 07:29 asktable/models/client_ds.py
+-rw-r--r--  2.0 unx     1270 b- defN 24-May-18 07:11 asktable/models/client_msg.py
+-rw-r--r--  2.0 unx      885 b- defN 24-May-01 14:48 asktable/models/client_run.py
+-rw-r--r--  2.0 unx     1397 b- defN 24-May-18 07:11 asktable/models/client_securetunnel.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-01 14:48 atcommon/__init__.py
+-rw-r--r--  2.0 unx     3828 b- defN 24-May-10 15:22 atcommon/tools.py
+-rw-r--r--  2.0 unx       16 b- defN 24-May-18 07:30 atcommon/version.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-01 14:48 atcommon/exceptions/__init__.py
+-rw-r--r--  2.0 unx     1402 b- defN 24-May-04 12:53 atcommon/exceptions/client.py
+-rw-r--r--  2.0 unx       95 b- defN 24-May-01 14:48 atcommon/exceptions/server.py
+-rw-r--r--  2.0 unx     2837 b- defN 24-May-18 07:11 atcommon/exceptions/server_base.py
+-rw-r--r--  2.0 unx      764 b- defN 24-May-01 14:48 atcommon/exceptions/server_plugins.py
+-rw-r--r--  2.0 unx      526 b- defN 24-May-18 07:11 atcommon/models/__init__.py
+-rw-r--r--  2.0 unx      731 b- defN 24-May-18 07:11 atcommon/models/base.py
+-rw-r--r--  2.0 unx     4918 b- defN 24-May-18 07:11 atcommon/models/bi.py
+-rw-r--r--  2.0 unx     1069 b- defN 24-May-18 07:11 atcommon/models/chat.py
+-rw-r--r--  2.0 unx     1424 b- defN 24-May-18 07:11 atcommon/models/datasource.py
+-rw-r--r--  2.0 unx    27794 b- defN 24-May-18 07:11 atcommon/models/meta.py
+-rw-r--r--  2.0 unx      819 b- defN 24-May-18 07:11 atcommon/models/securetunnel.py
+-rw-r--r--  2.0 unx    11702 b- defN 24-May-18 07:32 asktable-0.14.3.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-18 07:32 asktable-0.14.3.dist-info/WHEEL
+-rw-r--r--  2.0 unx       47 b- defN 24-May-18 07:32 asktable-0.14.3.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       18 b- defN 24-May-18 07:32 asktable-0.14.3.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2765 b- defN 24-May-18 07:32 asktable-0.14.3.dist-info/RECORD
+34 files, 88799 bytes uncompressed, 28440 bytes compressed:  68.0%
```

## zipnote {}

```diff
@@ -81,23 +81,23 @@
 
 Filename: atcommon/models/meta.py
 Comment: 
 
 Filename: atcommon/models/securetunnel.py
 Comment: 
 
-Filename: asktable-0.14.2.dist-info/METADATA
+Filename: asktable-0.14.3.dist-info/METADATA
 Comment: 
 
-Filename: asktable-0.14.2.dist-info/WHEEL
+Filename: asktable-0.14.3.dist-info/WHEEL
 Comment: 
 
-Filename: asktable-0.14.2.dist-info/entry_points.txt
+Filename: asktable-0.14.3.dist-info/entry_points.txt
 Comment: 
 
-Filename: asktable-0.14.2.dist-info/top_level.txt
+Filename: asktable-0.14.3.dist-info/top_level.txt
 Comment: 
 
-Filename: asktable-0.14.2.dist-info/RECORD
+Filename: asktable-0.14.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## asktable/models/client_base.py

```diff
@@ -29,15 +29,14 @@
                 raise ValueError("Unsupported data type")
 
         return wrapper
 
     return decorator
 
 
-
 class BaseResourceList:
     __do_not_print_properties__ = []
 
     def __init__(self, api: APIRequest, endpoint: str, order='desc', page_size=20, page_number=1):
         self.api = api
         self.endpoint = endpoint
         self.order = order
```

## asktable/models/client_ds.py

```diff
@@ -165,25 +165,26 @@
         return DataResourceList(self.api, self.endpoint, page_number=page_number)
 
     def all(self):
         return DataResourceList(self.api, self.endpoint, page_number=0, page_size=0)
 
     @convert_to_object(cls=DataSourceClientModel)
     def get(self, id=None, name=None):
-        if name:
-            ds_list = self.api.send(endpoint=f"{self.endpoint}?name={name}", method="GET")
-            if ds_list:
+        if id:
+            return self.api.send(endpoint=f"{self.endpoint}/{id}", method="GET")
+        elif name:
+            response = self.api.send(endpoint=f"{self.endpoint}?name={name}", method="GET")
+            if response:
+                ds_list = response["data"]
                 return ds_list
             else:
                 raise DataSourceNotFound(f"Data Source {name} not found")
-
-        if not id:
+        else:
             raise ValueError("No ID or Name provided")
-        # 通过资源ID来获取
-        return self.api.send(endpoint=f"{self.endpoint}/{id}", method="GET")
+
 
     @convert_to_object(cls=DataSourceClientModel)
     def register(self, type, access_config, name=None, skip_process_meta=0):
         data = {
             "type": type, "name": name,
             "access_config": access_config,
             "skip_process_meta": skip_process_meta
@@ -207,20 +208,20 @@
             ds_refreshed = self.get(id=datasource.id)
 
             if ds_refreshed.meta_status == 'success':
                 log.info(f"Data Source {datasource.id}  AI Process Success.")
                 return ds_refreshed
             elif ds_refreshed.meta_status == 'failed':
                 log.error(f"Data Source {datasource.id}  AI Process Failed.")
-                raise DataSourceMetaProcessError(f"DataSource AI Process failed: {ds.id}")
+                raise DataSourceMetaProcessError(f"DataSource AI Process failed: {datasource.id}")
 
             if time.time() - start_time > timeout:
                 log.error(f"Data Source {datasource.id}  AI分析超时。")
                 raise DataSourceMetaProcessTimeout(
-                    f"DataSource AI Process timed out after {timeout} seconds for {ds.id}")
+                    f"DataSource AI Process timed out after {timeout} seconds for {datasource.id}")
 
             # 等待斐波那契数列定义的时间，或者最多10秒
             sleep_time = min(fib_b, 10)
             log.info(f"Data Source {datasource.id}: Wait for {sleep_time} seconds and check again. "
                      f"Current status: {ds_refreshed.meta_status}")
             time.sleep(sleep_time)
```

## atcommon/tools.py

```diff
@@ -98,9 +98,19 @@
 def gen_id_for_msg():
     return f"msg_{gen_base62_uuid()}"
 
 
 def gen_id_for_run():
     return f"run_{gen_base62_uuid()}"
 
+def ctime_chn():
+    # 获取当前时间
+    now = datetime.now()
+    # 注意：中文日期时间格式可以根据需要进行调整
+    chinese_weekday = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日']
+    # 获取星期几的数字（0-6），然后将其转换为中文名称
+    weekday_cn = chinese_weekday[now.weekday()]
+    date_time = now.strftime("%Y年%m月%d日%H时%M分%S秒")
+    chinese_time_full_format = f"{date_time}{weekday_cn}"
+    return chinese_time_full_format
```

## atcommon/version.py

```diff
@@ -1 +1 @@
-VERSION="0.14.2"
+VERSION="0.14.3"
```

## Comparing `asktable-0.14.2.dist-info/METADATA` & `asktable-0.14.3.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: asktable
-Version: 0.14.2
+Version: 0.14.3
 Summary: AskTable SDK
 Home-page: https://asktable.com/
 Author: lele
 Description-Content-Type: text/markdown
 Requires-Dist: requests
 Requires-Dist: tabulate
 Requires-Dist: pybase62
```

## Comparing `asktable-0.14.2.dist-info/RECORD` & `asktable-0.14.3.dist-info/RECORD`

 * *Files 9% similar despite different names*

```diff
@@ -2,33 +2,33 @@
 asktable/api.py,sha256=e5XbDpNv3V0OVdpUin6xhkA1xW0u-Jik5wFlS_2ZkiY,2180
 asktable/cli.py,sha256=oNhuGdEB_jD_1ru40CcLhsul2VVaWq_VuiEYVbO-uwY,2138
 asktable/client.py,sha256=vZHdgqeRvRwRR5K1p450aoVfNZlKPH--aT2HUg8lcvc,1022
 asktable/exceptions.py,sha256=HUys_aPowtoLqjO4XhANXBQCUUpty1zLxV4fWPqBkLc,41
 asktable/log.py,sha256=CIRsQtXMB24sD5fFsUn2hxlEVJB33Ej8TIQKyET2pQ8,875
 asktable/upload.py,sha256=ZctBvZtKnBZWucRXzvdp25zBNGz3eQ6PAfdhzLzfMUU,1492
 asktable/models/__init__.py,sha256=pBkKlyvFBkoOtuaBJkIz5bixHZovMuu184JGnPWBUsM,248
-asktable/models/client_base.py,sha256=l8d2vCdRxioISSo4Y2o_2_PHlmp1BIuCgJroVaQdMVM,2993
+asktable/models/client_base.py,sha256=W09CNgGrquuxDoWhk-2A7bZkdfS9FnjhTdM-KTEGvUY,2992
 asktable/models/client_chat.py,sha256=rhkfO5LUZuMhdemZBdtIEvA1C6YNjZlWVvAlc7YqHyQ,2571
-asktable/models/client_ds.py,sha256=9hjHty3iUXRRntlsAMygd_D269LdQThYiammrO4xuxw,10712
+asktable/models/client_ds.py,sha256=HV8qIpNihuWR7GQw5vwV94EvqQRBdCwTrz4athUak8A,10755
 asktable/models/client_msg.py,sha256=hWJ8ZoZ2scasPl3EbxHWvixsnRly0AHa28jgonLiYUk,1270
 asktable/models/client_run.py,sha256=YEu-lhVUPamwN9yLJLLldZXTBppIOMIMZ6wOmoxPsc4,885
 asktable/models/client_securetunnel.py,sha256=8DrcpaYqLnJprPMfrK8ewW1J1cHv_WW5_BKYkpfPtNU,1397
 atcommon/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-atcommon/tools.py,sha256=TWlukRR8iaDY0FW4zM1hXO-2xM9NPcDB9PA4eYHipDI,3296
-atcommon/version.py,sha256=tSTGPG9aA077UWIfGZ5FgxQffDOnrIdii0nLDqzhQhs,16
+atcommon/tools.py,sha256=VARJtN379b-GBcsQspAbHyAvYnIhLkEKhExMT3j7Y0E,3828
+atcommon/version.py,sha256=qLUDLSXToqkUDxNzIMgECiICx-gY_MqFkZtSv5D_v20,16
 atcommon/exceptions/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 atcommon/exceptions/client.py,sha256=9NRkVMHEBdCfiaTvz2p5knT6gWwAzhksZJf0yeyo9rI,1402
 atcommon/exceptions/server.py,sha256=BSlYmdfDasoAq6oK9fyGhws3EBPII_hkHpx_JQmMdAY,95
 atcommon/exceptions/server_base.py,sha256=ih_9p2EeUhHLCS49IctgE7_wA8Z3hqic5N_vzUmhRxk,2837
 atcommon/exceptions/server_plugins.py,sha256=fjQr0aEVT0vlj7RFLErIuEdjTV4LY2R7Sw1K5LPYR2U,764
 atcommon/models/__init__.py,sha256=EiUwkIMdsdvZzAlDSDD7509mngAjckTBp65xICcASbk,526
 atcommon/models/base.py,sha256=UVM9dKL22-k4k44H6DYQeNIe35vJ1Vg0ppGDZiVDiIU,731
 atcommon/models/bi.py,sha256=WVkrlkMMkSeV5WhoNr88r1qmEPpAW3HA19YysF5-4j0,4918
 atcommon/models/chat.py,sha256=Si_eo8H8h_NtIOc76qhXoYcHp_tPMavud2sEnUXEejo,1069
 atcommon/models/datasource.py,sha256=Qv-IIC9hDGXrWe5s__4U_f51QNDi9BCMJrf42cUJ5Tg,1424
 atcommon/models/meta.py,sha256=OZesut61aJuotvzhj6k92tvcvaOut6E5v5rNNpFzVGo,27794
 atcommon/models/securetunnel.py,sha256=CG-Yn4dHtsHTZALCFR24W9SeF12ENl5mMn608my3vjI,819
-asktable-0.14.2.dist-info/METADATA,sha256=AjgzvnWomRMornHjcNYxf4GI2qZCbTMwog7cJTdVjMg,11702
-asktable-0.14.2.dist-info/WHEEL,sha256=Xo9-1PvkuimrydujYJAjF7pCkriuXBpUPEjma1nZyJ0,92
-asktable-0.14.2.dist-info/entry_points.txt,sha256=OS7zXFo5f2wYttNLFf6EScGBaN_2XtYbV_Fl_C3RhY8,47
-asktable-0.14.2.dist-info/top_level.txt,sha256=j_dz8lioIJZMGAy7UUdXv0ytGGhh8HFsGhSXaULxT4M,18
-asktable-0.14.2.dist-info/RECORD,,
+asktable-0.14.3.dist-info/METADATA,sha256=e-6yWEYZGWflQxYcf6sXaa9b2GdYVs6MFWcUVgoOyPI,11702
+asktable-0.14.3.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
+asktable-0.14.3.dist-info/entry_points.txt,sha256=OS7zXFo5f2wYttNLFf6EScGBaN_2XtYbV_Fl_C3RhY8,47
+asktable-0.14.3.dist-info/top_level.txt,sha256=j_dz8lioIJZMGAy7UUdXv0ytGGhh8HFsGhSXaULxT4M,18
+asktable-0.14.3.dist-info/RECORD,,
```

